@page
@model IndexModel
@{
    @using System.Web;
    @using System.Text;
    ViewData["Title"] = "Home page";

    if (Request.Method == "POST")
    {
        var origen = Request.Form["origen"].ToString();
        var destino = Request.Form["destino"].ToString();
        Task<Ruta> rutas = DNSGPS.Controller.ApiRequest(origen, destino);
        byte[] bytes = Encoding.UTF8.GetBytes(rutas.Result.resumenViaje.llegada.ToString());
        Response.Body.WriteAsync(bytes);
    }
}

<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <div class="login_container">
        Iniciar sesión:<br>
        <form method="post" action="">
            Usuario: <input type="text" id="user_textBox" name="user_textBox" required><br>
            Password: <input type="password" id="password_textBox" name="password_textBox" required><br>
            <input type="button" id="login_boton" onclick="prueba()" value="Enviar"
        </form>
    </div>

    <div class="text-center">
        <h1>Calcular ruta</h1>
        <form method="post">
            Introduzca origen: <input type="text" id="origen" name="origen" placeholder="Ciudad de origen" required><br>
            Introduzca destino: <input type="text" id="destino" name="destino" placeholder="Ciudad de destino" required><br>
            <input type="submit" id="calcular_ruta" value="Calcular ruta">
        </form>
    </div>

    <p id="respuesta"></p>
    <script src="site.js"></script>

</body>
</html>
}